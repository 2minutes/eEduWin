webpackJsonp([16],{EPL4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("rVsN"),i=a.n(r),n=a("l/JR"),o=(a("L+OJ"),a("w24O"),a("+EMp")),s=a("UOUp"),u=[{title:"课程编号",dataIndex:"courseNo",key:"courseNo"},{title:"课程名称（中）",dataIndex:"courseNmCn",key:"courseNmCn"},{title:"课程名称（英）",dataIndex:"courseNmEn",key:"courseNmEn"},{title:"课程类别编号",key:"typeNo",dataIndex:"typeNo"},{title:"课程导师编号",key:"courseOwner",dataIndex:"courseOwner"},{title:"课程级别",key:"courseLevel",dataIndex:"courseLevel"},{title:"课程状态",key:"courseSt",dataIndex:"courseSt"},{title:"收费状态",key:"feeSt",dataIndex:"feeSt"},{title:"课程价格（分）",key:"coursePrice",dataIndex:"coursePrice"},{title:"小组最小人数",key:"teamSizeMin",dataIndex:"teamSizeMin"},{title:"小组最大人数",key:"teamSizeMax",dataIndex:"teamSizeMax"},{title:"适合最小人群",key:"targetAgeGroupMin",dataIndex:"targetAgeGroupMin"},{title:"适合最大人群",key:"targetAgeGroupMax",dataIndex:"targetAgeGroupMax"},{title:"课程规模最小人数",key:"courseCapacityMin",dataIndex:"courseCapacityMin"},{title:"课程规模最大人数",key:"courseCapacityMax",dataIndex:"courseCapacityMax"},{title:"操作",key:"action",scopedSlots:{customRender:"tags"}}],l={data:function(){return{formLayout:"horizontal",form:this.$form.createForm(this,{name:"course"}),headers:{authorization:"authorization-text"},file:[],courseList:[],typeList:[],teacherList:[],courseLevelList:[{label:"基础",value:0},{label:"飞跃",value:1},{label:"大师",value:2}],editRow:{},tableHeader:u,addVisible:!1}},created:function(){this.initData(),this.getTeachList(),this.getTypeList()},methods:{initData:function(){var e=this;Object(n.a)({url:"course/query"}).then(function(t){console.log("course:",t);var a=t.courses?t.courses:[];a=a.map(function(e){return e.key=e.courseNo,e.courseType&&e.courseType.typeNo&&(e.typeNo=e.courseType.typeNo),e}),e.courseList=a})},getTeachList:function(){var e=this;Object(n.a)({url:"teacher/query"}).then(function(t){console.log("teachers:",t);var a=t.teachers?t.teachers:[];a=a.map(function(e){return e.key=e.userNo,e}),e.teacherList=a})},getTypeList:function(){var e=this;Object(n.a)({url:"courseType/query"}).then(function(t){console.log("type:",t);var a=t.types?t.types:[];a=a.map(function(e){return e.key=e.typeNo,e.value=e.typeNo,e}),e.typeList=a})},edit:function(e){this.editRow=e,this.addVisible=!0},del:function(e){var t=this;s.a.confirm({title:"确认删除?",content:"删除后数据不可恢复!",cancelText:"取消",okText:"确认",onOk:function(){return new i.a(function(a,r){Object(n.a)({url:"course/delete",params:{courseNo:e.courseNo}}).then(function(e){200==e.code&&(t.$message.success("删除成功!"),t.initData()),a()})}).catch(function(){return console.log("Oops errors!")})},onCancel:function(){}})},detail:function(e){this.$router.push({path:"/curd/courseDetail",query:{cno:e.courseNo}})},showAddModal:function(){this.addVisible=!0},handleCancel:function(){this.addVisible=!1,this.editRow={},this.form.resetFields()},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields(function(e,a){if(!e){var r=a,i="course/addCourse",o="新增成功!";t.editRow.courseNo&&(r.courseNo=t.editRow.courseNo,i="course/updateCourse",o="修改成功!"),Object(n.a)({url:i,params:r}).then(function(e){console.log("add:",e),200==e.code?(t.$message.success(o),t.addVisible=!1,t.form.resetFields(),t.editRow={},t.initData()):t.$message.error(e.desc)})}})}},components:{Menu:o.a}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"curd clearfix"},[a("Menu"),e._v(" "),a("div",{staticClass:"curd_right"},[a("a-button",{attrs:{type:"primary"},on:{click:e.showAddModal}},[e._v("\n            新增\n        ")]),e._v(" "),a("a-table",{attrs:{columns:e.tableHeader,"data-source":e.courseList},scopedSlots:e._u([{key:"name",fn:function(t){return a("a",{},[e._v(e._s(t))])}},{key:"tags",fn:function(t){return a("span",{},[a("a-tag",{attrs:{color:"red"},on:{click:function(a){return e.detail(t)}}},[e._v("课程描述")]),e._v(" "),a("a-tag",{attrs:{color:"green"},on:{click:function(a){return e.edit(t)}}},[e._v("修改")]),e._v(" "),a("a-tag",{attrs:{color:"red"},on:{click:function(a){return e.del(t)}}},[e._v("删除")])],1)}}])},[e._v(" "),a("span",{attrs:{slot:"customTitle"},slot:"customTitle"},[e._v("Name")])])],1),e._v(" "),a("a-modal",{attrs:{title:e.editRow.courseNo?"修改课程":"新增课程",visible:e.addVisible,footer:null,width:800},on:{cancel:e.handleCancel}},[a("a-form",{attrs:{form:e.form,"label-col":{span:5},"wrapper-col":{span:12}},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"课程名称（中）"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["courseNmCn",{rules:[{required:!0,message:"请输入课程名称（中文）"}],initialValue:e.editRow.courseNmCn}],expression:"[\n                        'courseNmCn',\n                        { \n                            rules: [{ required: true, message: '请输入课程名称（中文）' }],\n                            initialValue: editRow.courseNmCn \n                        },\n                    ]"}]})],1),e._v(" "),a("a-form-item",{attrs:{label:"类型名称（英）"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["courseNmEn",{rules:[{required:!0,message:"请输入课程名称（英文）"}],initialValue:e.editRow.courseNmEn}],expression:"[\n                        'courseNmEn',\n                        { \n                            rules: [{ required: true, message: '请输入课程名称（英文）' }],\n                            initialValue: editRow.courseNmEn \n                        },\n                    ]"}]})],1),e._v(" "),a("a-form-item",{attrs:{label:"课程级别"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["courseLevel",{rules:[{required:!0,message:"请选择课程级别"}],initialValue:e.editRow.courseLevel}],expression:"[\n                        'courseLevel',\n                        { \n                            rules: [{ required: true, message: '请选择课程级别' }],\n                            initialValue: editRow.courseLevel \n                        },\n                    ]"}]},e._l(e.courseLevelList,function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v("\n                        "+e._s(t.label)+"\n                    ")])}),1)],1),e._v(" "),a("a-form-item",{attrs:{label:"课程类型"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["typeNo",{rules:[{required:!0,message:"请选择课程类型"}],initialValue:e.editRow.typeNo}],expression:"[\n                        'typeNo',\n                        { \n                            rules: [{ required: true, message: '请选择课程类型' }],\n                            initialValue: editRow.typeNo \n                        },\n                    ]"}]},e._l(e.typeList,function(t){return a("a-select-option",{key:t.typeNo,attrs:{value:t.typeNo}},[e._v("\n                        "+e._s(t.typeNmCn)+"\n                    ")])}),1)],1),e._v(" "),a("a-form-item",{attrs:{label:"课程教师"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["courseOwner",{rules:[{required:!0,message:"请选择导师"}],initialValue:e.editRow.courseOwner}],expression:"[\n                        'courseOwner',\n                        { \n                            rules: [{ required: true, message: '请选择导师' }],\n                            initialValue: editRow.courseOwner \n                        },\n                    ]"}]},e._l(e.teacherList,function(t){return a("a-select-option",{key:t.userNo,attrs:{value:t.userNo}},[e._v("\n                        "+e._s(t.userNm)+"\n                    ")])}),1)],1),e._v(" "),a("a-form-item",{attrs:{label:"课程状态"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["courseSt",{rules:[{required:!0,message:"请选择课程状态"}],initialValue:e.editRow.courseSt}],expression:"[\n                        'courseSt',\n                        { \n                            rules: [{ required: true, message: '请选择课程状态' }],\n                            initialValue: editRow.courseSt \n                        },\n                    ]"}]},[a("a-select-option",{attrs:{value:0}},[e._v("\n                        下架\n                    ")]),e._v(" "),a("a-select-option",{attrs:{value:1}},[e._v("\n                        上架\n                    ")])],1)],1),e._v(" "),a("a-form-item",{attrs:{label:"收费状态"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["feeSt",{rules:[{required:!0,message:"请选择收费状态"}],initialValue:e.editRow.feeSt}],expression:"[\n                        'feeSt',\n                        { \n                            rules: [{ required: true, message: '请选择收费状态' }],\n                            initialValue: editRow.feeSt \n                        },\n                    ]"}]},[a("a-select-option",{attrs:{value:0}},[e._v("\n                        免费\n                    ")]),e._v(" "),a("a-select-option",{attrs:{value:1}},[e._v("\n                        收费\n                    ")])],1)],1),e._v(" "),a("a-form-item",{attrs:{label:"课程价格（分）"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["coursePrice",{rules:[{required:!0,message:"请输入课程价格"}],initialValue:e.editRow.coursePrice}],expression:"[\n                        'coursePrice',\n                        { \n                            rules: [{ required: true, message: '请输入课程价格' }],\n                            initialValue: editRow.coursePrice \n                        },\n                    ]"}]})],1),e._v(" "),a("a-form-item",{attrs:{label:"小组最小人数"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["teamSizeMin",{rules:[{required:!0,message:"请输入小组最小人数"}],initialValue:e.editRow.teamSizeMin}],expression:"[\n                        'teamSizeMin',\n                        { \n                            rules: [{ required: true, message: '请输入小组最小人数' }],\n                            initialValue: editRow.teamSizeMin \n                        },\n                    ]"}]})],1),e._v(" "),a("a-form-item",{attrs:{label:"小组最大人数"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["teamSizeMax",{rules:[{required:!0,message:"请输入小组最大人数"}],initialValue:e.editRow.teamSizeMax}],expression:"[\n                        'teamSizeMax',\n                        { \n                            rules: [{ required: true, message: '请输入小组最大人数' }],\n                            initialValue: editRow.teamSizeMax \n                        },\n                    ]"}]})],1),e._v(" "),a("a-form-item",{attrs:{label:"适合最小人群"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["targetAgeGroupMin",{rules:[{required:!0,message:"请输入适合最小人群"}],initialValue:e.editRow.targetAgeGroupMin}],expression:"[\n                        'targetAgeGroupMin',\n                        { \n                            rules: [{ required: true, message: '请输入适合最小人群' }],\n                            initialValue: editRow.targetAgeGroupMin \n                        },\n                    ]"}]})],1),e._v(" "),a("a-form-item",{attrs:{label:"适合最大人群"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["targetAgeGroupMax",{rules:[{required:!0,message:"请输入适合最大人群"}],initialValue:e.editRow.targetAgeGroupMax}],expression:"[\n                        'targetAgeGroupMax',\n                        { \n                            rules: [{ required: true, message: '请输入适合最大人群' }],\n                            initialValue: editRow.targetAgeGroupMax \n                        },\n                    ]"}]})],1),e._v(" "),a("a-form-item",{attrs:{label:"课程规模最小人数"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["courseCapacityMin",{rules:[{required:!0,message:"请输入课程规模最小人数"}],initialValue:e.editRow.courseCapacityMin}],expression:"[\n                        'courseCapacityMin',\n                        { \n                            rules: [{ required: true, message: '请输入课程规模最小人数' }],\n                            initialValue: editRow.courseCapacityMin \n                        },\n                    ]"}]})],1),e._v(" "),a("a-form-item",{attrs:{label:"课程规模最大人数"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["courseCapacityMax",{rules:[{required:!0,message:"请输入课程规模最大人数"}],initialValue:e.editRow.courseCapacityMax}],expression:"[\n                        'courseCapacityMax',\n                        { \n                            rules: [{ required: true, message: '请输入课程规模最大人数' }],\n                            initialValue: editRow.courseCapacityMax \n                        },\n                    ]"}]})],1),e._v(" "),a("a-form-item",{attrs:{label:"课程时长最小(周)"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["courseDurationMin",{rules:[{required:!0,message:"请输入课程时长"}],initialValue:e.editRow.courseDurationMin}],expression:"[\n                        'courseDurationMin',\n                        { \n                            rules: [{ required: true, message: '请输入课程时长' }],\n                            initialValue: editRow.courseDurationMin \n                        },\n                    ]"}]})],1),e._v(" "),a("a-form-item",{attrs:{label:"课程时长最大(周)"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["courseDurationMax",{rules:[{required:!0,message:"请输入课程时长"}],initialValue:e.editRow.courseDurationMax}],expression:"[\n                        'courseDurationMax',\n                        { \n                            rules: [{ required: true, message: '请输入课程时长' }],\n                            initialValue: editRow.courseDurationMax \n                        },\n                    ]"}]})],1),e._v(" "),a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("\n                    "+e._s(e.editRow.courseNo?"修改":"新增")+"\n                ")])],1)],1)],1)],1)},staticRenderFns:[]};var d=a("C7Lr")(l,c,!1,function(e){a("QOGg")},null,null);t.default=d.exports},QOGg:function(e,t){}});