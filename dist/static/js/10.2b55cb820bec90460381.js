webpackJsonp([10],{Q0YE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("l/JR"),s=(a("L+OJ"),a("w24O"),[{title:"教师编号",dataIndex:"userNo",key:"userNo"},{title:"姓名",dataIndex:"userNm",key:"userNm"},{title:"中文简介",key:"descCn",dataIndex:"descCn"},{title:"英文简介",key:"descEn",dataIndex:"descEn"},{title:"操作",key:"action",scopedSlots:{customRender:"tags"}}]),r={data:function(){return{formLayout:"horizontal",form:this.$form.createForm(this,{name:"tea"}),headers:{authorization:"authorization-text"},file:[],teaList:[],editRow:{},tableHeader:s,addVisible:!1}},created:function(){this.initData()},methods:{initData:function(){var e=this;Object(n.a)({url:"teacher/query"}).then(function(t){console.log("teachers:",t);var a=t.teachers?t.teachers:[];a=a.map(function(e){return e.key=e.userNo,e}),e.teaList=a})},edit:function(e){this.editRow=e,this.addVisible=!0},del:function(e){console.log("b:",e)},showAddModal:function(){this.addVisible=!0},handleCancel:function(){this.addVisible=!1,this.editRow={},this.form.resetFields()},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields(function(e,a){if(console.log("valid:",e,a),!e){var s={userNm:a.userNm,descCn:a.descCn,descEn:a.descEn},r="teacher/add",i="新增成功!";t.editRow.userNo&&(s.userNo=t.editRow.userNo,r="teacher/update",i="修改成功!"),Object(n.a)({url:r,params:s}).then(function(e){console.log("add:",e),200==e.code?(t.$message.success(i),t.addVisible=!1,t.form.resetFields(),t.editRow={},t.initData()):t.$message.error(e.desc)})}})},handleSelectChange:function(e){console.log(e),this.form.setFieldsValue({note:"Hi, "+("male"===e?"man":"lady")+"!"})},handleChange:function(e){this.file=e.target.files[0]},beforeUpload:function(e){return!1}},components:{Menu:a("+EMp").a}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"curd clearfix"},[a("Menu"),e._v(" "),a("div",{staticClass:"curd_right"},[a("a-button",{attrs:{type:"primary"},on:{click:e.showAddModal}},[e._v("\n            新增\n        ")]),e._v(" "),a("a-table",{attrs:{columns:e.tableHeader,"data-source":e.teaList},scopedSlots:e._u([{key:"name",fn:function(t){return a("a",{},[e._v(e._s(t))])}},{key:"tags",fn:function(t){return a("span",{},[a("a-tag",{attrs:{color:"green"},on:{click:function(a){return e.edit(t)}}},[e._v("修改")]),e._v(" "),a("a-tag",{attrs:{color:"red"},on:{click:function(a){return e.del(t)}}},[e._v("删除")])],1)}}])},[e._v(" "),a("span",{attrs:{slot:"customTitle"},slot:"customTitle"},[e._v("Name")])])],1),e._v(" "),a("a-modal",{attrs:{title:"新增导师",visible:e.addVisible,footer:null,width:800},on:{cancel:e.handleCancel}},[a("a-form",{attrs:{form:e.form,"label-col":{span:5},"wrapper-col":{span:12}},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"Full Name"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userNm",{rules:[{required:!0,message:"请输入Full Name"}],initialValue:e.editRow.userNm}],expression:"[\n                        'userNm',\n                        { \n                            rules: [{ required: true, message: '请输入Full Name' }],\n                            initialValue: editRow.userNm \n                        },\n                    ]"}]})],1),e._v(" "),a("a-form-item",{attrs:{label:"导师简介（中文）"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["descCn",{rules:[{required:!0,message:"请输入中文简介"}],initialValue:e.editRow.descCn}],expression:"[\n                        'descCn',\n                        { \n                            rules: [{ required: true, message: '请输入中文简介' }],\n                            initialValue: editRow.descCn\n                        },\n                    ]"}],attrs:{autoSize:{minRows:2,maxRows:6},allowClear:!0}})],1),e._v(" "),a("a-form-item",{attrs:{label:"导师简介（英文）"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["descEn",{rules:[{required:!0,message:"请输入英文简介"}],initialValue:e.editRow.descEn}],expression:"[\n                        'descEn',\n                        { \n                            rules: [{ required: true, message: '请输入英文简介' }],\n                            initialValue: editRow.descEn\n                        },\n                    ]"}],attrs:{autoSize:{minRows:2,maxRows:6},allowClear:!0}})],1),e._v(" "),a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("\n                    "+e._s(e.editRow.userNo?"修改":"新增")+"\n                ")])],1)],1)],1)],1)},staticRenderFns:[]};var o=a("C7Lr")(r,i,!1,function(e){a("ZyLG")},null,null);t.default=o.exports},ZyLG:function(e,t){}});